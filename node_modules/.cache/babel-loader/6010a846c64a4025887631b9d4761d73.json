{"ast":null,"code":"import _slicedToArray from\"/home/groves/code/pp-react/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState}from\"react\";import{Link}from\"react-router-dom\";import\"../css/RegisterUser.css\";import dog1 from\"../assets/images/dog1.png\";import{useHistory}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{getUserData}from\"../actions/profile-actions.js\";import{makeStyles}from\"@material-ui/core/styles\";import Alert from\"@material-ui/lab/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{width:\"30%\",marginTop:\"30px\",\"& > * + *\":{marginTop:theme.spacing(2)}}};});export default function RegisterUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),first_name=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),last_name=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),license_plate=_useState10[0],setLicense=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),phone=_useState12[0],setPhone=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),registerMessage=_useState14[0],setRegisterMessage=_useState14[1];var history=useHistory();var dispatch=useDispatch();var classes=useStyles();var sendForm=function sendForm(e){e.preventDefault();fetch(\"https://shrouded-cove-47330.herokuapp.com/api/users/register\",{method:\"POST\",body:JSON.stringify({first_name:first_name,last_name:last_name,email:email,password:password,license_plate:license_plate,phone:phone}),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(data){if(data.message){setRegisterMessage(data.message);setEmail(\"\");setPassword(\"\");history.push(\"/registeruser\");}else{getUserData(dispatch,data);history.push(\"/login\");}});return false;};return/*#__PURE__*/_jsxs(\"div\",{id:\"register-section\",children:[registerMessage?/*#__PURE__*/_jsx(\"div\",{id:\"register-toast\",className:classes.root,children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:\"Email is already in use. Please use a different email or try logging in if think you have an account\"})}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{id:\"user-form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login-header\",children:\"Sign Up to Start Parking\"}),/*#__PURE__*/_jsx(\"img\",{id:\"dog1-icon\",src:dog1,alt:\"dog\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return sendForm(e);},children:[/*#__PURE__*/_jsx(\"input\",{name:\"first_name\",id:\"top-input\",type:\"text\",placeholder:\"First Name\",required:true,onChange:function onChange(e){return setFirstName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:\"last_name\",className:\"register-input\",type:\"text\",placeholder:\"Last Name\",required:true,onChange:function onChange(e){return setLastName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",className:\"register-input\",type:\"email\",placeholder:\"Email Address\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",className:\"register-input\",type:\"password\",placeholder:\"Password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{id:\"license-plate\",name:\"license_plate\",className:\"register-input\",type:\"text\",placeholder:\"License Plate Number\",pattern:\"[a-zA-Z0-9!@#$%^*_|]{0,8}\",maxLength:\"8\",required:true,onChange:function onChange(e){return setLicense(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:\"phone\",id:\"bottom-input\",type:\"text\",placeholder:\"Phone Number\",pattern:\"[0-9!@#$%^*_|]{0,10}\",maxLength:\"10\",required:true,onChange:function onChange(e){return setPhone(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:\"access\",value:\"driver\",type:\"hidden\"}),/*#__PURE__*/_jsx(\"button\",{className:\"register-button\",id:\"submit-button\",children:\"Submit Form\"}),/*#__PURE__*/_jsx(Link,{className:\"register-link\",to:\"/login\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Already have an account? Click here!\"})})]})]})]});}","map":{"version":3,"sources":["/home/groves/code/pp-react/client/src/components/RegisterUser.jsx"],"names":["React","useState","Link","dog1","useHistory","useDispatch","getUserData","makeStyles","Alert","useStyles","theme","root","width","marginTop","spacing","RegisterUser","first_name","setFirstName","last_name","setLastName","email","setEmail","password","setPassword","license_plate","setLicense","phone","setPhone","registerMessage","setRegisterMessage","history","dispatch","classes","sendForm","e","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","json","data","message","push","target","value"],"mappings":"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","sourcesContent":["import { React, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../css/RegisterUser.css\";\nimport dog1 from \"../assets/images/dog1.png\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { getUserData } from \"../actions/profile-actions.js\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"30%\",\n\t\tmarginTop: \"30px\",\n\t\t\"& > * + *\": {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t},\n}));\n\nexport default function RegisterUser() {\n\tconst [first_name, setFirstName] = useState(\"\");\n\tconst [last_name, setLastName] = useState(\"\");\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [license_plate, setLicense] = useState(\"\");\n\tconst [phone, setPhone] = useState(\"\");\n\tconst [registerMessage, setRegisterMessage] = useState(\"\");\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\tconst classes = useStyles();\n\n\tconst sendForm = (e) => {\n\t\te.preventDefault();\n\t\tfetch(\"https://shrouded-cove-47330.herokuapp.com/api/users/register\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tfirst_name,\n\t\t\t\tlast_name,\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tlicense_plate,\n\t\t\t\tphone,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.message) {\n\t\t\t\t\tsetRegisterMessage(data.message);\n\t\t\t\t\tsetEmail(\"\");\n\t\t\t\t\tsetPassword(\"\");\n\t\t\t\t\thistory.push(\"/registeruser\");\n\t\t\t\t} else {\n\t\t\t\t\tgetUserData(dispatch, data);\n\t\t\t\t\thistory.push(\"/login\");\n\t\t\t\t}\n\t\t\t});\n\t\treturn false;\n\t};\n\n\treturn (\n\t\t<div id=\"register-section\">\n\t\t\t{registerMessage ? (\n\t\t\t\t<div id=\"register-toast\" className={classes.root}>\n\t\t\t\t\t<Alert severity=\"error\">\n\t\t\t\t\t\tEmail is already in use. Please use a different email or try logging\n\t\t\t\t\t\tin if think you have an account\n\t\t\t\t\t</Alert>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div></div>\n\t\t\t)}\n\t\t\t<div id=\"user-form\">\n\t\t\t\t<h1 className=\"login-header\">Sign Up to Start Parking</h1>\n\t\t\t\t<img id=\"dog1-icon\" src={dog1} alt=\"dog\" />\n\t\t\t\t<form onSubmit={(e) => sendForm(e)}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"first_name\"\n\t\t\t\t\t\tid=\"top-input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"First Name\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setFirstName(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"last_name\"\n\t\t\t\t\t\tclassName=\"register-input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Last Name\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setLastName(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tclassName=\"register-input\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email Address\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tclassName=\"register-input\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"license-plate\"\n\t\t\t\t\t\tname=\"license_plate\"\n\t\t\t\t\t\tclassName=\"register-input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"License Plate Number\"\n\t\t\t\t\t\tpattern=\"[a-zA-Z0-9!@#$%^*_|]{0,8}\"\n\t\t\t\t\t\tmaxLength=\"8\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setLicense(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\tid=\"bottom-input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Phone Number\"\n\t\t\t\t\t\tpattern=\"[0-9!@#$%^*_|]{0,10}\"\n\t\t\t\t\t\tmaxLength=\"10\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setPhone(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input name=\"access\" value=\"driver\" type=\"hidden\" />\n\t\t\t\t\t<button className=\"register-button\" id=\"submit-button\">\n\t\t\t\t\t\tSubmit Form\n\t\t\t\t\t</button>\n\t\t\t\t\t<Link className=\"register-link\" to=\"/login\">\n\t\t\t\t\t\t<p>Already have an account? Click here!</p>\n\t\t\t\t\t</Link>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}