{"ast":null,"code":"import _regeneratorRuntime from\"/home/groves/code/pp-react/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/groves/code/pp-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useSelector,useDispatch}from\"react-redux\";import{makeStyles}from\"@material-ui/core/styles\";import{Link}from\"react-router-dom\";import Avatar from\"@material-ui/core/Avatar\";import Paper from\"@material-ui/core/Paper\";import avatar from\"../assets/images/avatar.png\";import{dbReservations}from\"../actions/db-reservations-actions\";import React,{useEffect}from\"react\";import sad from\"../assets/images/lostdog.png\";import\"../App.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:\"flex\",\"& > *\":{margin:\"auto\"}},large:{width:theme.spacing(9),height:theme.spacing(9),padding:4},rootCard:{display:\"flex\",flexWrap:\"wrap\",\"& > *\":{margin:theme.spacing(1),width:theme.spacing(32),height:theme.spacing(40),paddingTop:\"5%\"}},reservCard:{display:\"flex\",flexWrap:\"wrap\",\"& > *\":{margin:theme.spacing(1),width:theme.spacing(42),height:theme.spacing(16),paddingTop:\"5%\"}}};});export default function ProfileUser(){var dbReservationsList=useSelector(function(state){return state.dbReservationsList;});var dispatch=useDispatch();var classes=useStyles();var profileData=useSelector(function(state){return state.profileData;});// reuse of driveway function\nvar getReservationsData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,parsedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://shrouded-cove-47330.herokuapp.com/api/reservations/\".concat(profileData.id),{method:\"GET\"});case 2:response=_context.sent;_context.next=5;return response.json();case 5:parsedData=_context.sent;dbReservations(dispatch,parsedData);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getReservationsData(){return _ref.apply(this,arguments);};}();var deleteReservation=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response,parsedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://shrouded-cove-47330.herokuapp.com/api/reservations/\".concat(profileData.id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:id})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:parsedData=_context2.sent;console.log(parsedData);getReservationsData();case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteReservation(_x){return _ref2.apply(this,arguments);};}();var formatDate=function formatDate(date){var newDate=date.substring(0,10).split(\"-\");if(newDate[1]===\"01\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"January \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"02\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"February \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"03\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"March \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"04\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"April \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"05\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"May \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"06\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"June \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"07\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"July \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"08\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"August \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"09\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"September \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"10\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"October \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"11\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"November \",newDate[2],\", \",newDate[0]]})});}if(newDate[1]===\"12\"){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"December \",newDate[2],\", \",newDate[0]]})});}else return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:newDate})});};useEffect(function(){getReservationsData();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"profile-user\",children:profileData.license_plate===undefined?/*#__PURE__*/_jsxs(\"div\",{id:\"reroute-link\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Something went wrong! Click here to login again\"}),/*#__PURE__*/_jsx(\"img\",{id:\"sad-dog-img\",src:sad,alt:\"sad-puppy\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card-and-history\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-card\",children:/*#__PURE__*/_jsx(\"div\",{className:classes.rootCard,children:/*#__PURE__*/_jsxs(Paper,{elevation:3,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(Avatar,{alt:\"avatar\",src:avatar,className:classes.large})}),/*#__PURE__*/_jsxs(\"h3\",{children:[profileData.first_name,\" \",profileData.last_name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),profileData.email]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{id:\"license-and-phone\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"License Plate\"}),/*#__PURE__*/_jsx(\"br\",{}),profileData.license_plate.toUpperCase()]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"br\",{}),profileData.phone]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"history\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Hi, \",profileData.first_name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"u\",{children:\"Your Reservations\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"newRes\",children:dbReservationsList.length>0?dbReservationsList.map(function(reservation){return/*#__PURE__*/_jsx(\"div\",{className:\"info-card\",children:/*#__PURE__*/_jsx(\"div\",{className:classes.reservCard,children:/*#__PURE__*/_jsxs(Paper,{elevation:3,children:[/*#__PURE__*/_jsx(\"h3\",{children:reservation.Driveway.address}),formatDate(\"\".concat(reservation.date)),/*#__PURE__*/_jsxs(\"p\",{children:[\"Start: \",reservation.start_req]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"End: \",reservation.end_req]}),/*#__PURE__*/_jsx(\"p\",{children:reservation.rate}),/*#__PURE__*/_jsx(\"button\",{id:\"cancel-button\",onClick:function onClick(){deleteReservation(reservation.id);},children:\"Cancel Reservation\"})]})})});}):/*#__PURE__*/_jsxs(\"div\",{id:\"no-reservations\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No Reservations!\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{id:\"back-button\",children:\"Start Your Search\"})})]})})]})]})});}","map":{"version":3,"sources":["/home/groves/code/pp-react/client/src/components/ProfileUser.jsx"],"names":["useSelector","useDispatch","makeStyles","Link","Avatar","Paper","avatar","dbReservations","React","useEffect","sad","useStyles","theme","root","display","margin","large","width","spacing","height","padding","rootCard","flexWrap","paddingTop","reservCard","ProfileUser","dbReservationsList","state","dispatch","classes","profileData","getReservationsData","fetch","id","method","response","json","parsedData","deleteReservation","headers","body","JSON","stringify","console","log","formatDate","date","newDate","substring","split","license_plate","undefined","first_name","last_name","email","toUpperCase","phone","length","map","reservation","Driveway","address","start_req","end_req","rate"],"mappings":"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","sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Paper from \"@material-ui/core/Paper\";\nimport avatar from \"../assets/images/avatar.png\";\nimport { dbReservations } from \"../actions/db-reservations-actions\";\nimport React, { useEffect } from \"react\";\nimport sad from \"../assets/images/lostdog.png\";\nimport \"../App.css\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *\": {\n\t\t\tmargin: \"auto\",\n\t\t},\n\t},\n\tlarge: {\n\t\twidth: theme.spacing(9),\n\t\theight: theme.spacing(9),\n\t\tpadding: 4,\n\t},\n\trootCard: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t\twidth: theme.spacing(32),\n\t\t\theight: theme.spacing(40),\n\t\t\tpaddingTop: \"5%\",\n\t\t},\n\t},\n\treservCard: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t\twidth: theme.spacing(42),\n\t\t\theight: theme.spacing(16),\n\t\t\tpaddingTop: \"5%\",\n\t\t},\n\t},\n}));\n\nexport default function ProfileUser() {\n\tconst dbReservationsList = useSelector((state) => state.dbReservationsList);\n\tconst dispatch = useDispatch();\n\tconst classes = useStyles();\n\tconst profileData = useSelector((state) => state.profileData);\n\n\t// reuse of driveway function\n\n\tconst getReservationsData = async () => {\n\t\tconst response = await fetch(\n\t\t\t`https://shrouded-cove-47330.herokuapp.com/api/reservations/${profileData.id}`,\n\t\t\t{\n\t\t\t\tmethod: \"GET\",\n\t\t\t}\n\t\t);\n\t\tconst parsedData = await response.json();\n\t\tdbReservations(dispatch, parsedData);\n\t};\n\n\tconst deleteReservation = async (id) => {\n\t\tconst response = await fetch(\n\t\t\t`https://shrouded-cove-47330.herokuapp.com/api/reservations/${profileData.id}`,\n\t\t\t{\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tid: id,\n\t\t\t\t}),\n\t\t\t}\n\t\t);\n\t\tconst parsedData = await response.json();\n\t\tconsole.log(parsedData)\n\t\tgetReservationsData();\n\t};\n\n\tconst formatDate = (date) => {\n\t\tlet newDate = date.substring(0, 10).split(\"-\");\n\t\tif (newDate[1] === \"01\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tJanuary {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"02\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tFebruary {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"03\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tMarch {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"04\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tApril {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"05\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tMay {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"06\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tJune {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"07\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tJuly {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"08\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tAugust {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"09\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tSeptember {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"10\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tOctober {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"11\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tNovember {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\tif (newDate[1] === \"12\") {\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\tDecember {newDate[2]}, {newDate[0]}\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t);\n\t\t} else\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<b>{newDate}</b>\n\t\t\t\t</p>\n\t\t\t);\n\t};\n\n\tuseEffect(() => {\n\t\tgetReservationsData();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"profile-user\">\n\t\t\t{profileData.license_plate === undefined ? (\n\t\t\t\t<div id=\"reroute-link\">\n\t\t\t\t\t<Link to=\"/login\">\n\t\t\t\t\t\tSomething went wrong! Click here to login again\n\t\t\t\t\t</Link>\n\t\t\t\t\t<img id=\"sad-dog-img\" src={sad} alt=\"sad-puppy\" />\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"card-and-history\">\n\t\t\t\t\t<div className=\"info-card\">\n\t\t\t\t\t\t<div className={classes.rootCard}>\n\t\t\t\t\t\t\t<Paper elevation={3}>\n\t\t\t\t\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t\t\t\t\t<Avatar alt=\"avatar\" src={avatar} className={classes.large} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t{profileData.first_name} {profileData.last_name}\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<b>Email</b>\n\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t{profileData.email}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<div id=\"license-and-phone\">\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<b>License Plate</b>\n\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\t{profileData.license_plate.toUpperCase()}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<b>Phone</b>\n\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\t{profileData.phone}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"history\">\n\t\t\t\t\t\t<h2>Hi, {profileData.first_name}</h2>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<u>Your Reservations</u>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div className=\"newRes\">\n\t\t\t\t\t\t\t{dbReservationsList.length > 0 ? (\n\t\t\t\t\t\t\t\tdbReservationsList.map((reservation) => (\n\t\t\t\t\t\t\t\t\t<div className=\"info-card\">\n\t\t\t\t\t\t\t\t\t\t<div className={classes.reservCard}>\n\t\t\t\t\t\t\t\t\t\t\t<Paper elevation={3}>\n\t\t\t\t\t\t\t\t\t\t\t\t<h3>{reservation.Driveway.address}</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t{formatDate(`${reservation.date}`)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Start: {reservation.start_req}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>End: {reservation.end_req}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{reservation.rate}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"cancel-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteReservation(reservation.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tCancel Reservation\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div id=\"no-reservations\">\n\t\t\t\t\t\t\t\t\t<p>No Reservations!</p>\n\t\t\t\t\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t\t\t\t\t<button id=\"back-button\">Start Your Search</button>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}