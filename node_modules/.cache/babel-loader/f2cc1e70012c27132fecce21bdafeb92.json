{"ast":null,"code":"var _jsxFileName = \"/home/groves/code/parking-pals/client/src/components/ProfileUser.jsx\",\n    _s = $RefreshSig$();\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Paper from \"@material-ui/core/Paper\";\nimport avatar from \"../assets/images/avatar.png\";\nimport sad from \"../assets/images/lostdog.png\";\nimport { dbReservations } from \"../actions/db-reservations-actions\";\nimport React, { useEffect } from \"react\";\nimport \"../App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: \"auto\"\n    }\n  },\n  large: {\n    width: theme.spacing(9),\n    height: theme.spacing(9),\n    padding: 4\n  },\n  rootCard: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: theme.spacing(32),\n      height: theme.spacing(40),\n      paddingTop: \"5%\"\n    }\n  },\n  reservCard: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: theme.spacing(42),\n      height: theme.spacing(16),\n      paddingTop: \"5%\"\n    }\n  }\n}));\nexport default function ProfileUser() {\n  _s();\n\n  const dbReservationsList = useSelector(state => state.dbReservationsList);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const profileData = useSelector(state => state.profileData); // reuse of driveway function\n\n  const getReservationsData = async () => {\n    const response = await fetch(`http://localhost:3001/api/reservations/${profileData.id}`, {\n      method: \"GET\"\n    });\n    const parsedData = await response.json();\n    dbReservations(dispatch, parsedData);\n  };\n\n  const deleteReservation = async id => {\n    const response = await fetch(`http://localhost:3001/api/reservations/${profileData.id}`, {\n      method: \"DELETE\",\n      body: JSON.stringify({\n        id: id\n      })\n    });\n    const parsedData = await response.json();\n    getReservationsData();\n  };\n\n  const formatDate = date => {\n    let newDate = date.substring(0, 10);\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: newDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 10\n    }, this);\n  };\n\n  useEffect(() => {\n    getReservationsData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-and-history\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.rootCard,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 3,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.root,\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                alt: \"avatar\",\n                src: avatar,\n                className: classes.large\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [profileData.first_name, \" \", profileData.last_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 22\n              }, this), profileData.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"license-and-phone\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Lincense Plate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 31\n                }, this), profileData.license_plate.toUpperCase()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 22\n                }, this), profileData.phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Hi, \", profileData.first_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(\"u\", {\n            children: \"Your Reservations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"newRes\",\n          children: dbReservationsList.length > 0 ? dbReservationsList.map(reservation => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.reservCard,\n              children: /*#__PURE__*/_jsxDEV(Paper, {\n                elevation: 3,\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: reservation.Driveway.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 7\n                }, this), formatDate(`${reservation.date}`), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Start: \", reservation.start_req]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"End: \", reservation.end_req]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: reservation.rate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  id: \"cancel-button\",\n                  onClick: () => {\n                    deleteReservation(reservation.id);\n                  },\n                  children: \"Cancel Reservation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 7\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 6\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"no-reservations\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No Reservations!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                id: \"back-button\",\n                children: \"Start Your Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 10\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 3\n  }, this);\n}\n\n_s(ProfileUser, \"6En+1eEbdv2P7q0ceRW2qGY9uPI=\", false, function () {\n  return [useSelector, useDispatch, useStyles, useSelector];\n});\n\n_c = ProfileUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileUser\");","map":{"version":3,"sources":["/home/groves/code/parking-pals/client/src/components/ProfileUser.jsx"],"names":["useSelector","useDispatch","makeStyles","Link","Avatar","Paper","avatar","sad","dbReservations","React","useEffect","useStyles","theme","root","display","margin","large","width","spacing","height","padding","rootCard","flexWrap","paddingTop","reservCard","ProfileUser","dbReservationsList","state","dispatch","classes","profileData","getReservationsData","response","fetch","id","method","parsedData","json","deleteReservation","body","JSON","stringify","formatDate","date","newDate","substring","first_name","last_name","email","license_plate","toUpperCase","phone","length","map","reservation","Driveway","address","start_req","end_req","rate"],"mappings":"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","sourcesContent":["\nimport { useSelector, useDispatch  } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {Link} from \"react-router-dom\"\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Paper from \"@material-ui/core/Paper\";\nimport avatar from \"../assets/images/avatar.png\";\nimport sad from \"../assets/images/lostdog.png\";\nimport { dbReservations } from \"../actions/db-reservations-actions\";\nimport React, { useEffect} from \"react\";\n\nimport \"../App.css\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *\": {\n\t\t\tmargin: \"auto\",\n\t\t},\n\t},\n\tlarge: {\n\t\twidth: theme.spacing(9),\n\t\theight: theme.spacing(9),\n\t\tpadding: 4,\n\t},\n\trootCard: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t\twidth: theme.spacing(32),\n\t\t\theight: theme.spacing(40),\n\t\t\tpaddingTop: \"5%\",\n\t\t},\n\t},\n\treservCard: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t\twidth: theme.spacing(42),\n\t\t\theight: theme.spacing(16),\n\t\t\tpaddingTop: \"5%\",\n\t\t},\n\t},\n}));\n\nexport default function ProfileUser() {\n\tconst dbReservationsList = useSelector((state) => state.dbReservationsList);\n\tconst dispatch = useDispatch();\n\tconst classes = useStyles();\n\tconst profileData = useSelector((state) => state.profileData);\n\t\n\t// reuse of driveway function\n\t\n\tconst getReservationsData = async () => {\n\t\tconst response = await fetch(`http://localhost:3001/api/reservations/${profileData.id}`, {\n\t\t\tmethod: \"GET\",\n\t\t});\n\t\tconst parsedData = await response.json();\n\t\tdbReservations(dispatch, parsedData);\n\t};\n\n\tconst deleteReservation = async (id) => {\n\t\tconst response = await fetch(`http://localhost:3001/api/reservations/${profileData.id}`, {\n\t\t\tmethod: \"DELETE\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: id\n\t\t\t}),\n\t\t});\n\t\tconst parsedData = await response.json();\n\t\tgetReservationsData()\n\t};\n\n\tconst formatDate = (date) => {\n\t\tlet newDate = date.substring(0,10)\n\t\treturn <p><b>{newDate}</b></p>\n\t\t}\n\n\tuseEffect(() => {\n\t\tgetReservationsData();\n\t}, []);\n\t\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"card-and-history\">\n\t\t\t<div className=\"info-card\">\n\t\t\t\t<div className={classes.rootCard}>\n\t\t\t\t\t<Paper elevation={3}>\n\t\t\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t\t\t<Avatar alt=\"avatar\" src={avatar} className={classes.large} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t{profileData.first_name} {profileData.last_name}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<p><b>Email</b><br></br>\n\t\t\t\t\t\t{profileData.email}</p>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<div id=\"license-and-phone\">\n\t\t\t\t\t\t<p><b>Lincense Plate</b><br></br> \n\t\t\t\t\t\t{profileData.license_plate.toUpperCase()}</p>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<p><b>Phone</b><br></br>\n\t\t\t\t\t\t{profileData.phone}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"history\">\n\t\t\t\t\t\t<h2>Hi, {profileData.first_name}</h2>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<h3><u>Your Reservations</u></h3>\n\t\t\t<div className=\"newRes\">\n\t\t\t\t{dbReservationsList.length > 0 ? (\n\t\t\t\t\tdbReservationsList.map((reservation) => (\n\t\t\t\t\t\t<div className=\"info-card\">\n\t\t\t\t<div className={classes.reservCard}>\n\t\t\t\t\t<Paper elevation={3}>\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t{reservation.Driveway.address}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t{formatDate(`${reservation.date}`)}\n\t\t\t\t\t\t<p>Start: {reservation.start_req}</p>\n\t\t\t\t\t\t<p>End: {reservation.end_req}</p>\n\t\t\t\t\t\t<p>{reservation.rate}</p>\n\t\t\t\t\t\t<button id=\"cancel-button\" onClick={()=>{deleteReservation(reservation.id)}}>Cancel Reservation</button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t) : (<div id=\"no-reservations\">\n\t\t\t\t\t<p>No Reservations!</p><Link to=\"/\"><button id=\"back-button\">Start Your Search</button></Link></div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}