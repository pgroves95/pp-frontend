{"ast":null,"code":"var _jsxFileName = \"/home/groves/code/parking-pals/client/src/components/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { React, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"../css/Login.css\";\nimport \"../css/RegisterHost.css\";\nimport dog from \"../assets/images/dog.png\";\nimport { useDispatch } from \"react-redux\";\nimport { getUserData } from \"../actions/profile-actions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"30%\",\n    marginTop: \"30px\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2)\n    }\n  }\n}));\nexport default function Login() {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginMessage, setLoginMessage] = useState(\"\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const sendForm = e => {\n    e.preventDefault();\n    fetch(\"http://localhost:3001/api/users/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email,\n        password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"withCredentials\": true\n      }\n    }).then(res => res.json()).then(data => {\n      if (data.message) {\n        setLoginMessage(data.message);\n        setPassword(\"\");\n        history.push(\"/login\");\n      } else {\n        getUserData(dispatch, data);\n        history.push(\"/\");\n      }\n    });\n    return false;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"login-section\",\n      children: [loginMessage ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.root,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: \"Unable to login. Please check your credentials and try again!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        onSubmit: e => sendForm(e),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"login-header\",\n          children: \"Log In to Find Parking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"dog-icon\",\n          src: dog,\n          alt: \"dog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"login-input-1\",\n          type: \"email\",\n          placeholder: \"Email\",\n          onChange: e => setEmail(e.target.value),\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"login-input-2\",\n          type: \"password\",\n          placeholder: \"Password\",\n          onChange: e => setPassword(e.target.value),\n          value: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login-button\",\n          type: \"submit\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"register-link\",\n          to: \"/RegisterUser\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Not signed up? Click here to make an account!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Login, \"iApBtxzi44FXucWJMCKbdf1jA3c=\", false, function () {\n  return [useHistory, useDispatch, useStyles];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/groves/code/parking-pals/client/src/components/Login.jsx"],"names":["React","useState","Link","useHistory","dog","useDispatch","getUserData","makeStyles","Alert","useStyles","theme","root","width","marginTop","spacing","Login","email","setEmail","password","setPassword","loginMessage","setLoginMessage","history","dispatch","classes","sendForm","e","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","json","data","message","push","target","value"],"mappings":";;;AAAA,SAAQA,KAAR,EAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAO,kBAAP;AACA,OAAO,yBAAP;AACA,OAAOC,GAAP,MAAgB,0BAAhB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,wBAAlB;;AAEA,MAAMC,SAAS,GAAGF,UAAU,CAAEG,KAAD,KAAY;AACxCC,EAAAA,IAAI,EAAE;AACLC,IAAAA,KAAK,EAAE,KADF;AAELC,IAAAA,SAAS,EAAE,MAFN;AAGL,iBAAa;AACZA,MAAAA,SAAS,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd;AADC;AAHR;AADkC,CAAZ,CAAD,CAA5B;AAUA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAC/B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACmB,YAAD,EAAeC,eAAf,IAAkCpB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAMqB,OAAO,GAAGnB,UAAU,EAA1B;AACA,QAAMoB,QAAQ,GAAGlB,WAAW,EAA5B;AACA,QAAMmB,OAAO,GAAGf,SAAS,EAAzB;;AAEA,QAAMgB,QAAQ,GAAIC,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,KAAK,CAAC,uCAAD,EAA0C;AAC9CC,MAAAA,MAAM,EAAE,MADsC;AAE9CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEhB,QAAAA,KAAF;AAASE,QAAAA;AAAT,OAAf,CAFwC;AAG9Ce,MAAAA,OAAO,EAAE;AACR,wBAAgB,kBADR;AAER,2BAAmB;AAFX;AAHqC,KAA1C,CAAL,CAQEC,IARF,CAQQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARhB,EASEF,IATF,CASQG,IAAD,IAAU;AACf,UAAIA,IAAI,CAACC,OAAT,EAAkB;AACjBjB,QAAAA,eAAe,CAACgB,IAAI,CAACC,OAAN,CAAf;AACAnB,QAAAA,WAAW,CAAC,EAAD,CAAX;AACAG,QAAAA,OAAO,CAACiB,IAAR,CAAa,QAAb;AACA,OAJD,MAIO;AACNjC,QAAAA,WAAW,CAACiB,QAAD,EAAWc,IAAX,CAAX;AACAf,QAAAA,OAAO,CAACiB,IAAR,CAAa,GAAb;AACA;AACD,KAlBF;AAmBA,WAAO,KAAP;AACA,GAtBD;;AAwBA,sBACC;AAAA,2BACC;AAAK,MAAA,EAAE,EAAC,eAAR;AAAA,iBACEnB,YAAY,gBACZ;AAAK,QAAA,SAAS,EAAEI,OAAO,CAACb,IAAxB;AAAA,+BACC,QAAC,KAAD;AAAO,UAAA,QAAQ,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADY,gBAOZ;AAAA;AAAA;AAAA;AAAA,cARF,eAUC;AAAM,QAAA,SAAS,EAAC,YAAhB;AAA6B,QAAA,QAAQ,EAAGe,CAAD,IAAOD,QAAQ,CAACC,CAAD,CAAtD;AAAA,gCACC;AAAI,UAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAK,UAAA,EAAE,EAAC,UAAR;AAAmB,UAAA,GAAG,EAAEtB,GAAxB;AAA6B,UAAA,GAAG,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,gBAFD,eAGC;AACC,UAAA,SAAS,EAAC,eADX;AAEC,UAAA,IAAI,EAAC,OAFN;AAGC,UAAA,WAAW,EAAC,OAHb;AAIC,UAAA,QAAQ,EAAGsB,CAAD,IAAOT,QAAQ,CAACS,CAAC,CAACc,MAAF,CAASC,KAAV,CAJ1B;AAKC,UAAA,KAAK,EAAEzB;AALR;AAAA;AAAA;AAAA;AAAA,gBAHD,eAUC;AACC,UAAA,SAAS,EAAC,eADX;AAEC,UAAA,IAAI,EAAC,UAFN;AAGC,UAAA,WAAW,EAAC,UAHb;AAIC,UAAA,QAAQ,EAAGU,CAAD,IAAOP,WAAW,CAACO,CAAC,CAACc,MAAF,CAASC,KAAV,CAJ7B;AAKC,UAAA,KAAK,EAAEvB;AALR;AAAA;AAAA;AAAA;AAAA,gBAVD,eAiBC;AAAQ,UAAA,SAAS,EAAC,cAAlB;AAAiC,UAAA,IAAI,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBD,eAoBC,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,eAAhB;AAAgC,UAAA,EAAE,EAAC,eAAnC;AAAA,iCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBApBD;AAAA;AAAA;AAAA;AAAA;AAAA,cAVD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAuCA;;GAvEuBH,K;UAIPZ,U,EACCE,W,EACDI,S;;;KANOM,K","sourcesContent":["import {React, useState} from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"../css/Login.css\";\nimport \"../css/RegisterHost.css\";\nimport dog from \"../assets/images/dog.png\";\nimport { useDispatch } from \"react-redux\";\nimport { getUserData } from \"../actions/profile-actions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"30%\",\n\t\tmarginTop: \"30px\",\n\t\t\"& > * + *\": {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t},\n}));\n\nexport default function Login() {\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [loginMessage, setLoginMessage] = useState(\"\")\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\tconst classes = useStyles();\n\n\tconst sendForm = (e) => {\n\t\te.preventDefault();\n\t\tfetch(\"http://localhost:3001/api/users/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({ email, password }),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"withCredentials\": true,\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.message) {\n\t\t\t\t\tsetLoginMessage(data.message);\n\t\t\t\t\tsetPassword(\"\");\n\t\t\t\t\thistory.push(\"/login\");\n\t\t\t\t} else {\n\t\t\t\t\tgetUserData(dispatch, data);\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t});\n\t\treturn false;\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div id=\"login-section\">\n\t\t\t\t{loginMessage ? (\n\t\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t\t<Alert severity=\"error\">\n\t\t\t\t\t\t\tUnable to login. Please check your credentials and try again!\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div></div>\n\t\t\t\t)}\n\t\t\t\t<form className=\"login-form\" onSubmit={(e) => sendForm(e)}>\n\t\t\t\t\t<h1 className=\"login-header\">Log In to Find Parking</h1>\n\t\t\t\t\t<img id=\"dog-icon\" src={dog} alt=\"dog\" />\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"login-input-1\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"login-input-2\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t/>\n\t\t\t\t\t<button className=\"login-button\" type=\"submit\">\n\t\t\t\t\t\tLog In\n\t\t\t\t\t</button>\n\t\t\t\t\t<Link className=\"register-link\" to=\"/RegisterUser\">\n\t\t\t\t\t\t<p>Not signed up? Click here to make an account!</p>\n\t\t\t\t\t</Link>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}